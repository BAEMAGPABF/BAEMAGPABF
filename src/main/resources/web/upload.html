<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>upload</title>
    <style>
        label {
            display: block;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<h1>上传文件夹</h1>
<form id="uploadForm">
    <label>
        文件夹名称：
        <input type="text" name="name" required>
    </label>
    <label>
        简介：
        <textarea name="description" required></textarea>
    </label>
    <label>
        封面图片：
        <input type="file" name="cover" required>
    </label>
    <label>
        文件夹：
        <input type="file" name="folder" webkitdirectory directory required>
    </label>
    <input type="submit" value="上传">
</form>
<script>
    const form = document.getElementById('uploadForm');
    form.addEventListener('submit', (event) => {
        event.preventDefault();
        const data = new FormData(form);
        fetch('/submit', {
            method: 'POST',
            body: data
        }).then(response => {
            if (response.ok) {
                alert('上传成功！');
            } else {
                alert('上传失败！');
            }
        }).catch(error => {
            console.error(error);
            alert('上传失败！');
        });
    });
</script>
</body>
</html>